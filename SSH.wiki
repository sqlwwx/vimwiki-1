 = [[index|Top]] [[Study]] [[Diary]] [[Bai Xuesong|About]] =
 ==== Hi, Welcome to [[Bai Xuesong]]'s wiki. ====

=== Books and Documents  ===
 * [[https://www.michaelwlucas.com/nonfiction/ssh-mastery|SSH Mastery: OpenSSH, PuTTY, Tunnels and Keys]]  ^_*Excellent!! Highly recommend!!_*^
   # *Chapter 1: Introducing OpenSSH*
     - created in 1995 for secure communication across private, public, and hostile networks.
     - openSSH is developed by the openBSD project. openSSH is available under BSD-style license and comes in two versions: openBSD and Portable openSSH.
     - SSH protocol comes in two version, SSH-1 and SSH-2. SSH-1 is vulnerable to attacks.
       </br>*Do not use SSH version 1!!!*
       # Intruder can hijack the connection and insert arbitrary text into SSH-1 session.
       # SSH-1 session can be decoded in real time by programs such as [[http://ettercap.github.io/ettercap/|Ettercap]].
   # *Chapter 2: Encryption, Algorithms, and Keys*
     - *Encryption algorithms*
       # *Symmetric algorithm*
         - same key for encryption and decryption.
         - AES, 3DES, blowfish, IDEA etc.
         - very fast and secure.
       # *Asymmetric algorithm*
         - separate key pair(public/private). public key encryption public key encryption.
         - Diffie-Hellman key exchange protocol.
         - much slower and more cumputationally expensive than symmetric algorithm.
     - *How SSH uses Encyption*
       # Negotiate a temporary keypair of session by keypair of server.
       # Derive a temporary symmetric key of session.
       # Encrypt data by the temporary symmetric key.
       # Change two temporary keypairs intermittently.
   # *Chapter 3: The OpenSSH Server*
     - *Configration files*
       # Server: `/etc/ssh/sshd_config`
       # Server's private keys: `/etc/ssh/ssh_host_*_key` (* = encryption algorithms such as rsa, dsa, ecdsa ...)
       # Server's public keys: `/etc/ssh/ssh_host_*_key.pub` (* = encryption algorithms such as rsa, dsa, ecdsa ...)
       # Client: `/etc/ssh/ssh_config`
     - *sshd_config*
       {{{
ListenAddress ip:port
Protocol 2                          #Do not uses SSH version 1.
Banner /etc/ssh/ssh-banner          #It won't always appear. SSH protocol do not guarantee.
PrintMotd yes                       #Print message of the day ==> /etc/motd. reference PAM.
PrintLastLog yes                    #Print the information of the user's last login.
LoginGraceTime 2m                   #User can try to log in 6 times in 2 minutes in a single session.
MaxAuthTries 6
UseDNS yes                          #Verify the forward and reverse DNS names for a client's IP address.
                                    #The check can increase system load and failed DNS checks wil1 slow down all SSH logins.
PidFile /var/run/sshd.pid
SyslogFacility AUTH
LogLevel INFO                       #Accepted Values: QUIET/FATAL/ERROR/INFO/VERBOSE/DEBUG[123]
DenyUsers   denyuserlist            #PRIority Level 01 (High)
AllowUsers  allowuserlist           #PRIority Level 02
DenyGroups  denygrouplist           #PRIority Level 03
AllowGroups allowgrouplist          #PRIority Level 04 (Low)
#AllowUsers backup@10.0.0.0/8       #Allow only user from 10.0.0.0/8 network.
       }}}

=== Examples ===
 # `telnet/nc hostname port #OpenSSH Banner Grabbing`
 # `sshd -f sshd_config -p testport -ddd #Test and Debug mode(not fork)`
